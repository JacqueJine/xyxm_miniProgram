{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Project/xyxm_miniProgram/pages/mine/shop/openShop/openShop.vue?269d","webpack:///E:/Project/xyxm_miniProgram/pages/mine/shop/openShop/openShop.vue?0669","webpack:///E:/Project/xyxm_miniProgram/pages/mine/shop/openShop/openShop.vue?4242","webpack:///E:/Project/xyxm_miniProgram/pages/mine/shop/openShop/openShop.vue?fd53","uni-app:///pages/mine/shop/openShop/openShop.vue","webpack:///E:/Project/xyxm_miniProgram/pages/mine/shop/openShop/openShop.vue?85f3","webpack:///E:/Project/xyxm_miniProgram/pages/mine/shop/openShop/openShop.vue?ad45"],"names":["createPage","Page"],"mappings":"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","file":"pages/mine/shop/openShop/openShop.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/mine/shop/openShop/openShop.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./openShop.vue?vue&type=template&id=707674a9&scoped=true&\"\nvar renderjs\nimport script from \"./openShop.vue?vue&type=script&lang=js&\"\nexport * from \"./openShop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./openShop.vue?vue&type=style&index=0&id=707674a9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"707674a9\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/shop/openShop/openShop.vue\"\nexport default component.exports","export * from \"-!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./openShop.vue?vue&type=template&id=707674a9&scoped=true&\"","var components = {\n  uUpload: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-upload/u-upload\" */ \"uview-ui/components/u-upload/u-upload.vue\"\n    )\n  },\n  uCheckbox: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-checkbox/u-checkbox\" */ \"uview-ui/components/u-checkbox/u-checkbox.vue\"\n    )\n  },\n  uPopup: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n    )\n  },\n  helangCompress: function() {\n    return import(\n      /* webpackChunkName: \"components/helang-compress/helang-compress\" */ \"@/components/helang-compress/helang-compress.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showxy = !_vm.showxy\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./openShop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./openShop.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"content\">\n    <view class=\"top1\" v-if=\"type == 0 || type == 3\">\n      <view class=\"top1_1\">\n        <image\n          :src=\"\n            forminfo.header == ''\n              ? '/static/mine/shop1.png'\n              : imgBaseUrl + forminfo.header\n          \"\n          @click=\"uphead\"\n        ></image>\n        <view>点击添加店铺头像</view>\n      </view>\n      <view class=\"top1_2\">\n        <view>店铺名称</view>\n        <view\n          ><input\n            placeholder=\"请输入不超过8个字\"\n            maxlength=\"8\"\n            v-model=\"forminfo.name\"\n        /></view>\n      </view>\n      <view class=\"top1_2\">\n        <view>店铺详细地址</view>\n        <view><input placeholder=\"请输入\" v-model=\"forminfo.address\" /></view>\n      </view>\n      <view class=\"top1_2\">\n        <view>联系人</view>\n        <view><input placeholder=\"请输入\" v-model=\"forminfo.linkman\" /></view>\n      </view>\n      <view class=\"top1_2\">\n        <view>联系电话</view>\n        <view\n          ><input\n            placeholder=\"请输入\"\n            type=\"number\"\n            maxlength=\"11\"\n            v-model=\"forminfo.phone\"\n        /></view>\n      </view>\n      <view class=\"top1_2\" v-if=\"type == 3\">\n        <view style=\"margin-bottom: 20rpx\">店铺背景</view>\n        <view>\n          <u-upload\n            :action=\"action\"\n\t\t\t\t\t:size-type=\"['compressed']\"\n            max-count=\"1\"\n            width=\"375rpx\"\n            height=\"192rpx\"\n            :file-list=\"fileList1\"\n            :show-tips=\"false\"\n            @on-remove=\"onRemove1\"\n            @on-success=\"onSuccess1\"\n            ref=\"uUpload\"\n            :auto-upload=\"true\"\n\t\t\t\t\t:before-upload=\"beforeUpload1\"\n          ></u-upload>\n        </view>\n      </view>\n      <view class=\"top1_2\">\n        <view style=\"margin-bottom: 20rpx\">实体图</view>\n        <view>\n          <u-upload\n            :action=\"action\"\n\t\t\t\t\t:size-type=\"['compressed']\"\n            max-count=\"5\"\n            :file-list=\"fileList\"\n            @on-remove=\"onRemove\"\n            :show-tips=\"false\"\n            @on-success=\"onSuccess\"\n            ref=\"uUpload\"\n            :auto-upload=\"true\"\n\t\t\t\t\t:before-upload=\"beforeUpload\"\n          ></u-upload>\n        </view>\n      </view>\n      <view class=\"top1_3\">\n        <view>\n          <u-checkbox v-model=\"checked\" shape=\"circle\" active-color=\"#FEC200\"\n            >同意</u-checkbox\n          ><text @click=\"showxy = !showxy\">《店铺加盟协议》</text>\n        </view>\n        <view @click=\"openShop\" class=\"btn\">提交</view>\n      </view>\n    </view>\n    <view class=\"top2\" v-else>\n      <image\n        :src=\"\n          type == 2 ? '/static/mine/shoping.png' : '/static/mine/shopover.png'\n        \"\n      ></image>\n      <view>{{ type == 2 ? \"审核中\" : \"已开店\" }}</view>\n      <view>\n        {{\n          type == 2\n            ? \"客服将在24小时内联系你\"\n            : \"您已成功开通店铺，赶紧去经营它吧\"\n        }}</view\n      >\n    </view>\n    <u-popup v-model=\"showxy\" mode=\"center\" border-radius=\"8\">\n      <view class=\"popxy\"> 我是协议 </view>\n    </u-popup>\n    <helang-compress ref=\"helangCompress\"></helang-compress>\n  </view>\n</template>\n\n<script>\nimport { CreateStore, storeDetail } from \"../../../../services/shop.js\";\nimport { delImages } from \"../../../../services/community.js\";\nimport helangCompress from \"@/components/helang-compress/helang-compress\";\nexport default {\n  components: {\n    helangCompress,\n  },\n  data() {\n    return {\n      action: getApp().globalData.imgBaseUrl + \"/common/upload/image.html\",\n      id: \"\",\n      forminfo: {\n        user_id: 1,\n        header: \"\",\n        name: \"\",\n        address: \"\",\n        linkman: \"\",\n        phone: \"\",\n        image: [],\n        backimage: \"\",\n      },\n      fileList: [],\n      fileList1: [],\n      checked: true,\n      type: \"\", // 0：不是店家，1：是店家，2：申请中 3 修改店铺信息\n      imgBaseUrl: getApp().globalData.imgBaseUrl,\n      showxy: false,\n    };\n  },\n  methods: {\n    async openShop() {\n      let regPhone = /^((13[0-9])|(17[0-1,6-8])|(15[^4,\\\\D])|(18[0-9]))\\d{8}$/;\n      if (JSON.parse(uni.getStorageSync(\"user\")).is_real.code != 1) {\n        uni.showToast({\n          title: \"实名后才能申请店铺\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (this.forminfo.header == \"\") {\n        uni.showToast({\n          title: \"请上传店铺头像\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (this.forminfo.name == \"\") {\n        uni.showToast({\n          title: \"请输入店铺名称\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (this.forminfo.address == \"\") {\n        uni.showToast({\n          title: \"请输入店铺详细地址\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (this.forminfo.linkman == \"\") {\n        uni.showToast({\n          title: \"请输入店铺联系人\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (!regPhone.test(this.forminfo.phone)) {\n        uni.showToast({\n          title: \"请输入正确手机号\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (this.forminfo.image.length < 1) {\n        uni.showToast({\n          title: \"请上传实体图\",\n          icon: \"none\",\n        });\n        return false;\n      } else if (!this.checked) {\n        uni.showToast({\n          title: \"请勾选店铺加盟协议\",\n          icon: \"none\",\n        });\n        return false;\n      }\n      // 文本检测\n      try {\n        let res = await this.$check.checkTxt(\n          this.forminfo.name + this.forminfo.linkman + this.forminfo.address\n        );\n      } catch (error) {\n        this.forminfo.address = \"\";\n        this.forminfo.name = \"\";\n        this.forminfo.linkman = \"\";\n        return false;\n      }\n      uni.showLoading({\n        title: \"提交中……\",\n        mask: true,\n      });\n      let datas = {};\n      if (this.type == 0) {\n        datas = {\n          data: this.forminfo,\n        };\n      } else if (this.type == 3) {\n        datas = {\n          id: this.id,\n          data: this.forminfo,\n        };\n      }\n      CreateStore(datas).then((res) => {\n        uni.hideLoading();\n        uni.showToast({\n          title: res.message,\n          icon: \"none\",\n        });\n        if (res.code == 200) {\n          setTimeout(() => {\n            uni.navigateBack();\n          }, 1500);\n        }\n      });\n    },\n    // 上传头像\n    uphead() {\n      let that = this;\n      uni.showLoading({\n        title: \"检测中...\",\n        mask: true,\n      });\n      uni.chooseImage({\n        sizeType: [\"compressed\"],\n        success: (res) => {\n          const tempFilePaths = res.tempFilePaths;\n          // 单张压缩\n          this.$refs.helangCompress\n            .compress({\n              src: res.tempFilePaths[0]\n            })\n            .then(async (res1) => {\n              try {\n                await this.$check.checkImg1(0, res1, tempFilePaths);\n                uni.uploadFile({\n                  url: that.action,\n                  filePath: tempFilePaths[0],\n                  name: \"file\",\n                  header: {\n                    token: uni.getStorageSync(\"token\"),\n                  },\n                  success(res) {\n                    const data = JSON.parse(res.data);\n                    if (data.code == 200) {\n                      that.forminfo.header = data.result.src;\n                    } else {\n                      uni.showToast({\n                        title: data.message,\n                        icon: \"none\",\n                      });\n                    }\n                  },\n                  complete() {\n                    uni.hideLoading();\n                  },\n                });\n              } catch (e) {\n                uni.hideLoading();\n              }\n            })\n            .catch((err) => {\n              uni.hideLoading();\n              uni.showToast({\n                title: \"上传失败\",\n              });\n              console.log(\"eee\", err);\n            });\n        },\n      });\n    },\n    // 实体图\n    async beforeUpload(index, lists) {\n      uni.showLoading({\n        title: \"检测中...\",\n        mask: true,\n      });\n      try {\n        await this.$refs.helangCompress\n          .compress({\n            src: lists[index].url,\n          })\n          .then(async (res) => {\n            await this.$check.checkImg1(index, res, lists);\n          });\n      } catch (e) {\n        console.log(\"e\", e);\n      }\n    },\n    onSuccess(data, index, lists, name) {\n      if (data.code == 200) {\n        this.forminfo.image.push(data.result.src);\n      } else {\n        uni.showToast({\n          title: data.message,\n          icon: \"none\",\n        });\n      }\n    },\n    onRemove(index, lists) {\n      delImages({\n        path: this.forminfo.image[index],\n      }).then((res) => {\n        uni.showToast({\n          title: res.message,\n          icon: \"none\",\n        });\n        if (res.code == 200) {\n          this.forminfo.image.splice(index, 1);\n        }\n      });\n    },\n    // 店铺背景图\n    async beforeUpload1(index, lists) {\n      uni.showLoading({\n        title: \"检测中...\",\n        mask: true,\n      });\n      try {\n        await this.$refs.helangCompress\n          .compress({\n            src: lists[index].url,\n          })\n          .then(async (res) => {\n            await this.$check.checkImg1(index, res, lists);\n          });\n      } catch (e) {\n        console.log(\"e\", e);\n      }\n    },\n    onSuccess1(data, index, lists, name) {\n      if (data.code == 200) {\n        this.forminfo.backimage = data.result.src;\n      } else {\n        uni.showToast({\n          title: data.message,\n          icon: \"none\",\n        });\n      }\n    },\n    onRemove1(index, lists) {\n      delImages({\n        path: this.forminfo.backimage,\n      }).then((res) => {\n        uni.showToast({\n          title: res.message,\n          icon: \"none\",\n        });\n        if (res.code == 200) {\n          this.forminfo.backimage = \"\";\n        }\n      });\n    },\n  },\n  onLoad: function (options) {\n    this.forminfo.user_id = JSON.parse(uni.getStorageSync(\"user\")).id;\n    // 0：不是店家，1：是店家，2：申请中 3 修改店铺信息\n    //\n    this.type = options.type;\n    if (options.type == 3) {\n      uni.setNavigationBarTitle({\n        title: \"店铺信息设置\",\n      });\n      this.id = options.shopId;\n      storeDetail({\n        id: options.shopId, //店铺id\n      }).then((res) => {\n        if (res.code == 200) {\n          for (let i in this.forminfo) {\n            this.forminfo[i] = res.result[i];\n          }\n          // 实体图预览\n          for (let i in res.result.image) {\n            this.fileList.push({\n              url: getApp().globalData.imgBaseUrl + res.result.image[i],\n            });\n          }\n          // 背景图预览\n          if (res.result.backimage != \"\") {\n            this.fileList1.push({\n              url: getApp().globalData.imgBaseUrl + res.result.backimage,\n            });\n          }\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style scoped>\n.content {\n  padding: 0 24rpx 36rpx;\n  font-size: 28rpx !important;\n}\n\n.top1_1 {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding-bottom: 40rpx;\n}\n\n.top1_1 image {\n  width: 136rpx;\n  height: 136rpx;\n  border-radius: 4px;\n  margin: 120rpx 0 12rpx 0;\n}\n\n.top1_2 {\n  padding-top: 52rpx;\n}\n\n.top1_2 input {\n  height: 86rpx;\n  line-height: 86rpx;\n  border: none;\n  background: #f9f9f9;\n  margin-top: 24rpx;\n  padding-left: 24rpx;\n}\n\n.top1_3 {\n  padding-top: 120rpx;\n}\n\n.top1_3 .btn {\n  line-height: 98rpx;\n  text-align: center;\n  background: #fec200;\n  border-radius: 25px;\n  font-size: 36rpx;\n  margin-top: 40rpx;\n}\n\n.top1_3 > view:nth-of-type(1) {\n  font-size: 30rpx;\n  display: flex;\n  align-items: center;\n}\n\n.top1_3 > view:nth-of-type(1) text {\n  color: #1677ff;\n}\n\n.top2 {\n  width: 100%;\n  height: 60vh;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 36rpx;\n}\n\n.top2 image {\n  width: 148rpx;\n  height: 148rpx;\n  margin-bottom: 50rpx;\n}\n\n.top2 > view:nth-of-type(2) {\n  color: rgba(42, 40, 40, 0.4);\n  font-size: 28rpx;\n}\n\n.popxy {\n  width: 600rpx;\n  height: 700rpx;\n  overflow-y: scroll;\n  padding: 20rpx;\n  box-sizing: border-box;\n}\n</style>\n","import mod from \"-!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./openShop.vue?vue&type=style&index=0&id=707674a9&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./openShop.vue?vue&type=style&index=0&id=707674a9&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609737882138\n      var cssReload = require(\"D:/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}