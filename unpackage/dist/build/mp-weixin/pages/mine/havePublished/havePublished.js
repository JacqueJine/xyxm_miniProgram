(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/havePublished/havePublished"],{"1f9b":function(t,e,n){"use strict";n.r(e);var i=n("24a8"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"24a8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("6c29"),a={data:function(){return{imgBaseUrl:getApp().globalData.imgBaseUrl,activeTab:0,activeTypeTab:0,tabList:["待接单","进行中","待结算","已取消","已完成"],typeList:["全部","快递帮","校园跑腿","其他任务"],page:1,list:[],offset:[0,0],countNum:{canceled:0,finish:0,for_the:0,in_the_order:0,underway:0},is_show:!1,status:"loading",iconType:"flower",loadText:{loadmore:"轻轻上拉",loading:"努力加载中",nomore:"实在没有了"}}},methods:{changeTab:function(t){this.list=[],this.status="loading",this.activeTab=t,this.page=1,this.is_show=!0,this.getList(),this.getCount()},changeTypeTab:function(t){this.list=[],this.status="loading",this.activeTypeTab=t,this.page=1,this.is_show=!0,this.getList(),this.getCount()},toDetail:function(e,n,a,o){var s=this,u=Date.parse(new Date)/1e3;if(n-u<1800&&3!=a&&0==o)return t.showToast({title:"任务完成时间不足30分钟，即将删除该任务",icon:"none"}),(0,i.delTask)({id:e}).then((function(e){200==e.code?(s.list=[],s.status="loading",s.page=1,s.is_show=!0,s.getList(),s.getCount()):t.showToast({title:e.message,icon:"none"})})),!1;t.navigateTo({url:"/pages/mine/havePublished/orderDetail/orderDetail?id="+e})},getCount:function(){var e=this;(0,i.countTask)({user_id:JSON.parse(t.getStorageSync("user")).id}).then((function(t){200==t.code&&(e.countNum=t.result)}))},getList:function(){var t=this,e={};e=0==this.activeTypeTab?{task_state:this.activeTab}:{type:this.activeTypeTab,task_state:this.activeTab},(0,i.taskList)({page:this.page,limit:10,where:e}).then((function(e){t.is_show&&(t.list=[]),200==e.code?(t.list=t.list.concat(e.result.data),e.result.count<=10&&(t.status="nomore"),t.page++):t.status="nomore"}))},toMinePage:function(e){t.navigateTo({url:"/pages/community/minePage/minePage?id="+e})}},onShow:function(){this.list=[],this.status="loading",this.page=1,this.is_show=!0,this.getList(),this.getCount()},onReachBottom:function(){if("nomore"==this.status)return!1;this.is_show=!1,this.getList()}};e.default=a}).call(this,n("543d")["default"])},"2a57":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uBadge:function(){return n.e("node-modules/uview-ui/components/u-badge/u-badge").then(n.bind(null,"3d95"))},uCountDown:function(){return n.e("node-modules/uview-ui/components/u-count-down/u-count-down").then(n.bind(null,"b16b"))},uLoadmore:function(){return n.e("node-modules/uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"811d"))}},a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,(function(e,n){var i=t.__get_orig(e),a=t.$u.timeFormat(e.create_time,"yy-mm-dd hh:MM:ss");return{$orig:i,g0:a}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[]},"2e3c":function(t,e,n){"use strict";(function(t){n("394a");i(n("66fd"));var e=i(n("a086"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},a086:function(t,e,n){"use strict";n.r(e);var i=n("2a57"),a=n("1f9b");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("fabb");var s,u=n("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"5300ccb9",null,!1,i["a"],s);e["default"]=c.exports},e69d:function(t,e,n){},fabb:function(t,e,n){"use strict";var i=n("e69d"),a=n.n(i);a.a}},[["2e3c","common/runtime","common/vendor"]]]);